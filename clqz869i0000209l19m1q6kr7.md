---
title: "What are AWS Security Groups?"
seoTitle: "What are AWS Security Groups?"
seoDescription: "discover what aws security groups are, how to use them, and best practices."
datePublished: Thu Jan 04 2024 13:10:32 GMT+0000 (Coordinated Universal Time)
cuid: clqz869i0000209l19m1q6kr7
slug: what-are-aws-security-groups
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1704373600644/a4468194-f8b8-4c1f-84a7-1ed2b1ce5db3.png
tags: aws, aws-security-group, aws-nacl

---

Security groups are virtual firewalls in AWS that controls incoming and outgoing traffic for EC2 instances. Security Groups comprise a set of rules that filter traffic at the TCP and IP layers, based on specified ports and source/destination IP addresses. They are stateful, meaning if traffic is allowed in one direction, the response is automatically permitted in the opposite direction.

While traditionally firewalls operate on 'allow' and 'deny' rules, Security Groups function on a 'default deny' principle, allowing only explicitly permitted traffic and automatically denying all others. They are specifically tied to individual EC2 instances, ensuring tailored protection for each cloud resource.

## How AWS Security Groups Work

AWS Security Groups play a pivotal role in fortifying your cloud resources. Their primary objective is to regulate the flow of traffic to your EC2 instances. By using Security Groups, you ensure that only traffic abiding by the designated ports and protocols reaches your EC2 machines.

Upon initiating an instance in Amazon EC2, you are required to link it to a specific security group. These groups come with the flexibility of having tailor-made rules, enabling traffic flow either to or from the associated instances or specific services.

Unlike traditional firewall configurations, security group rules adopt an exclusively permissive approach, analogous to whitelists. They cannot incorporate rules that restrict access. To illustrate, if there's traffic originating from an Elastic Load Balancer (ELB) directed towards a subnet packed with web servers, the AWS Security Group can be set up to recognize only that specific ELB as an allowed source.

A defining feature of security groups is their stateful nature. Simply put, if an incoming request is granted, its corresponding outgoing response will be approved without a hitch.

### Working With Multuple Security Groups in AWS

AWS offers the option to assign multiple security groups to a single EC2 instance. The ceiling is set at five groups for each network interface. Further enhancing flexibility, every instance within a subnet in your VPC can be affiliated with varying sets of security groups. In the scenario where traffic needs to access an instance, Amazon EC2 meticulously scans all rules across all linked security groups.

Any modification or addition of rules is instantaneously applied across all instances that fall under the purview of that particular security group.

## What is the Difference Between AWS Security Groups and Network Access Control Lists (NACLs)

A Network Access Control List (NACL) is an optional layer of security in Amazon Web Services (AWS) that functions at the subnet level of your Virtual Private Cloud (VPC). Itâ€™s like as a firewall that controls both inbound and outbound traffic for one or more subnets.

Here's a comparison of their key differences:

### 1\. Operational Level

**Security Group**: Operates at the EC2 instance level.

**Network ACL**: Operates at the subnet level, affecting all instances within that subnet.

### 2\. Association

**Security Group**: Directly tied to specific EC2 instances.

**Network ACL**: Associated with a subnet. All instances in that subnet automatically follow the rules of the NACL unless specified otherwise.

### 3\. State Management

**Security Group**: Stateful. If an incoming request is allowed, its corresponding outgoing response will automatically be permitted.

**Network ACL**: Stateless. Inbound and outbound traffic rules need to be set up separately. If you allow an incoming request, you must also explicitly allow its outgoing response.

### 4\. Rules Configuration

**Security Group**: Only supports 'allow' rules, with all inbound traffic denied by default. It evaluates the traffic based on the rule but cannot deny a specific IP.

**Network ACL**: Supports both 'allow' and 'deny' rules. You can explicitly set rules to deny traffic from specific IPs.

### 5\. Rule Evaluation

**Security Group**: All rules are evaluated before deciding to permit or deny traffic. Changes to rules are immediate and automatically applied to all associated instances.

**Network ACL**: Rules are processed in numerical order, starting with the lowest number. For traffic to be allowed or denied, it checks rules in sequence until it finds a match.

### 6\. Modification

**Security Group**: Allows real-time rule modification without the need to disassociate it from the instance.

**Network ACL**: You can't modify the rules of a NACL while it's associated with a subnet.

### 7\. Default Behavior

**Security Group**: All inbound traffic is denied by default, while outbound traffic is allowed. You cannot deny a specific IP address using Security Groups.

**Network ACL**: Comes with a default setting that allows all inbound and outbound traffic. However, custom NACLs deny all inbound and outbound traffic until you add rules.

### 8\. Number of Instances

**Security Group**: Multiple security groups can be associated with a single EC2 instance.

**Network ACL**: All subnets in a VPC must be associated with a NACL, but a subnet can be associated with only one NACL at a time.

In essence, NACLs offer a way to provide a more granular level of traffic filtering across your AWS resources at the subnet level. When used in conjunction with security groups, which operate at the instance level, they provide a robust mechanism to ensure that only desired traffic can flow into and out of your resources.